(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[888],{20596:function(v){v.exports={container:"container___2xBth",lang:"lang___3ceZl",content:"content___wzTNf",icon:"icon___3e6Jz"}},421:function(v,_,a){"use strict";a.r(_),a.d(_,{default:function(){return q}});var i=a(39428),y=a(3182),M=a(2824),m=a(67294),O=a(20596),C=a.n(O),U=a(5977),A=a(11614),P="/company/mpay/v1",S="/public/mpay_order/v1",Y="/public/mpay_test/v1";function w(n){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function n(r){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={authenticated:!0,method:"POST",params:{transactionId:r},requestUrl:Y+"/h5"},e.abrupt("return",constructBasicRequest(t));case 2:case"end":return e.stop()}},n)})),p.apply(this,arguments)}function I(n,r){return d.apply(this,arguments)}function d(){return d=(0,y.Z)((0,i.Z)().mark(function n(r,t){var s;return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s={authenticated:!1,method:"POST",params:{orderId:r,returnUrl:t},requestUrl:S+"/h5"},u.abrupt("return",(0,A.yc)(s));case 2:case"end":return u.stop()}},n)})),d.apply(this,arguments)}function L(n,r){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,t){var s;return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s={authenticated:!0,method:"POST",params:{barcode:r,orderId:t},requestUrl:P+"/order/barcode"},u.abrupt("return",constructBasicRequest(s));case 2:case"end":return u.stop()}},n)})),f.apply(this,arguments)}function G(n){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function n(r){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={authenticated:!0,method:"POST",params:{orderId:r},requestUrl:P+"/order/qrcode"},e.abrupt("return",constructBasicRequest(t));case 2:case"end":return e.stop()}},n)})),R.apply(this,arguments)}var h=a(85893),H=function(){var r,t,s=(0,U.UO)(),e=s.orderId,u=(0,m.useState)(),E=(0,M.Z)(u,2),o=E[0],B=E[1],D=function(){var l=(0,y.Z)((0,i.Z)().mark(function g(){var T;return(0,i.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,I(e,"https://needwork-management.bitcode-lab.com/#/mpayHelper"+"/".concat(e));case 2:T=c.sent,B(T);case 4:case"end":return c.stop()}},g)}));return function(){return l.apply(this,arguments)}}();return(0,m.useEffect)(function(){o&&document.forms.payment_auto_submit_form.submit()},[o]),(0,m.useEffect)(function(){D()},[e]),(0,h.jsx)("div",{className:C().container,children:(0,h.jsx)("form",{id:"payment_auto_submit_form",action:(r=o==null?void 0:o.requestUrl)!==null&&r!==void 0?r:"",method:"get",children:Object.keys((t=o==null?void 0:o.paymentRequest)!==null&&t!==void 0?t:[]).map(function(l){return(0,h.jsx)("input",{hidden:!0,name:l,value:o.paymentRequest[l]},"formPay")})})})},q=H}}]);
