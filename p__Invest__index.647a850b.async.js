(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[870],{94227:function(fe,J,i){"use strict";i.d(J,{P:function(){return N},e:function(){return ne}});var Q=i(11849),N=function(H,Y,re){re||Y.resetFields(),H(re)},ne=function(H,Y){Y.setFieldsValue((0,Q.Z)((0,Q.Z)({},H),{},{id:H!=null&&H.id?H.id:new Date().getMilliseconds()}))}},82570:function(fe,J,i){"use strict";i.d(J,{XH:function(){return ee}});var Q={key:"COINBASE_CRYPTO",label:"Coinbase",shortLabel:"CB"},N={key:"INTERACTIVE_BROKERS_STOCK",label:"Interactive Broker",shortLabel:"IB"},ne={key:"FOREX_STANDARD_ACCOUNT",label:"Forex",shortLabel:"FX"},ee=[Q,N,ne]},50430:function(fe,J,i){"use strict";i.d(J,{LR:function(){return ee},NY:function(){return H},bZ:function(){return re}});var Q=i(32059),N=i(11849);function ne(w){var M={};return w.forEach(function(c){var X={text:c.label};c.status&&(X=_objectSpread(_objectSpread({},X),{},{status:c.status})),M[c.key]=X}),M}function ee(w,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"label",X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"UNKNOWN";return H(w,M,X)[c]}function H(w,M){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"UNKNOWN",X=0;X<w.length;X++)if(w[X].key===M)return w[X];return{label:c}}function Y(w){return w.map(function(M){return _objectSpread(_objectSpread({},M),{},{value:M.key})})}function re(w){return w.reduce(function(M,c){return(0,N.Z)((0,N.Z)({},M),{},(0,Q.Z)({},c.key,(0,N.Z)((0,N.Z)({},c),{},{text:c.label})))},{})}},77805:function(fe,J,i){"use strict";i.r(J),i.d(J,{default:function(){return Xt}});var Q=i(57663),N=i(71577),ne=i(18106),ee=i(25499),H=i(22385),Y=i(94199),re=i(20136),w=i(55241),M=i(49111),c=i(19650),X=i(77576),ie=i(12028),k=i(11849),u=i(39428),j=i(3182),G=i(2824),ye=i(62350),Ae=i(24565),oe=i(68628),p=i(15394),D=i(67294),e=i(85893),br=function(r){var n=r.description,a=r.disabled,t=r.info,v=r.key,o=v===void 0?"delete":v,l=r.label,h=r.onClick,x=r.popConfirm,f=r.popConfirmMessage,Z=r.textType,y=Z===void 0?"link"|"danger":Z,g,U=n?(0,e.jsx)(p.Z,{type:"secondary",children:n}):null,S=t?(0,e.jsx)(w.Z,{content:t,children:(0,e.jsx)(oe.Z,{style:{color:"#bbbbbb"}})}):null;return x?g=(0,e.jsx)(Ae.Z,{cancelText:"Cancel",onConfirm:h,okText:"OK",title:f||"\u78BA\u5B9A\u57F7\u884C?",children:(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsxs)(c.Z,{children:[y==="danger"?(0,e.jsx)(p.Z,{type:"danger",children:l}):(0,e.jsx)("a",{children:l}),S]}),U]})},o):g=y==="danger"?(0,e.jsx)(p.Z,{onClick:h,type:"danger",children:l}):(0,e.jsx)("a",{onClick:h,children:l}),a?(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(p.Z,{disabled:!0,children:l}),S]}):g},ce=br,ea=i(71153),Ee=i(60331),K=i(11614),Dr="/public/ping/v1",Je={requireAuth:!1,serviceUrl:Dr},Ur=function(){var s=(0,j.Z)((0,u.Z)().mark(function r(){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:Je.requireAuth,method:"GET",requestUrl:Je.serviceUrl},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},r)}));return function(){return s.apply(this,arguments)}}(),Lr="default",Fr="processing",_r=6e4,Te=function(r){var n=r.isOn,a=r.text;return(0,e.jsx)(Ee.Z,{color:n?Fr:Lr,children:a})},wr=function(){var r,n,a,t,v=(0,D.useState)({}),o=(0,G.Z)(v,2),l=o[0],h=o[1];(0,D.useEffect)(function(){x(),t=setInterval(function(){return x()},_r)},[]);var x=function(){Ur().then(function(Z){return h(Z)}).catch(function(Z){return h({})})};return(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(Te,{isOn:l.connected,text:"MDC"}),(0,e.jsx)(Te,{isOn:l==null||(r=l.channelsHealth)===null||r===void 0?void 0:r.COINBASE_CRYPTO,text:"CoinBase"}),(0,e.jsx)(Te,{isOn:l==null||(n=l.channelsHealth)===null||n===void 0?void 0:n.FOREX_STANDARD_ACCOUNT,text:"Forex"}),(0,e.jsx)(Te,{isOn:l==null||(a=l.channelsHealth)===null||a===void 0?void 0:a.INTERACTIVE_BROKERS_STOCK,text:"MDC"})]})},Gr=wr,kr={key:"BRUTAL_FORCE",label:"Brutal",showGrid:!1},Vr={key:"GRID_TRADING",label:"Grid",showGrid:!0},$r={key:"DYNAMIC_GRID_TRADE",label:"Dynamic Grid Trade",showGrid:!0},Hr={key:"DYNAMIC_GRID_TRADE_FLAT",label:"Dynamic Grid Trade Punish Double Grid Interval",showGrid:!0},zr={key:"PURE_GRID",label:"Pure Grid",showGrid:!0},Br={key:"PURE_GRID_AUTO",label:"Pure Grid Auto",showGrid:!0},Oe=[kr,Vr,$r,Hr,zr,Br],Qe={key:"FIXED",label:"Fixed"},er={key:"PERCENTAGE",label:"Percentage"},rr=[Qe,er],Ie=i(82570),V=i(50430),nr={key:"BUY_LONG",label:"Long"},Yr={key:"SELL_SHORT",label:"Short"},tr=[nr,Yr],ve=i(88275),Kr="/user/invest_sync/v1",Wr={requireAuth:!0,serviceUrl:Kr},Xr=function(){var s=(0,j.Z)((0,u.Z)().mark(function r(){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:!0,method:"POST",requestUrl:Wr.serviceUrl},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},r)}));return function(){return s.apply(this,arguments)}}(),je=i(90890),ar=i(7085),Pe=i(59879),qr=i(49101),Jr=i(35551),Me=i(16894),Qr="/user/invest/v1",$={requireAuth:!0,serviceUrl:Qr};function en(s,r,n,a){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,j.Z)((0,u.Z)().mark(function s(r,n,a,t){var v;return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return v={authenticated:r.requireAuth,method:"GET",params:(0,k.Z)((0,k.Z)({},n),{},{pageRequest:n.current-1}),requestUrl:$.serviceUrl+"/query_pagination/detail"},l.abrupt("return",(0,K.Iw)(v));case 2:case"end":return l.stop()}},s)})),Ne.apply(this,arguments)}function ra(s){return be.apply(this,arguments)}function be(){return be=_asyncToGenerator(_regeneratorRuntime().mark(function s(r){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:$.requireAuth,method:"GET",requestUrl:$.serviceUrl+"/".concat(r,"/orderBook")},t.abrupt("return",constructBasicRequest(n));case 2:case"end":return t.stop()}},s)})),be.apply(this,arguments)}function rn(s,r,n){return De.apply(this,arguments)}function De(){return De=(0,j.Z)((0,u.Z)().mark(function s(r,n,a){var t;return(0,u.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t={authenticated:$.requireAuth,method:"GET",requestUrl:$.serviceUrl+"/".concat(r,"/summary?startDate=").concat(n,"&endDate=").concat(a)},o.abrupt("return",(0,K.yc)(t));case 2:case"end":return o.stop()}},s)})),De.apply(this,arguments)}function nn(s,r){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,j.Z)((0,u.Z)().mark(function s(r,n){var a;return(0,u.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a={authenticated:$.requireAuth,method:"GET",requestUrl:$.serviceUrl+"/".concat(r,"/productId?keyword=").concat(n)},v.abrupt("return",(0,K.yc)(a));case 2:case"end":return v.stop()}},s)})),Ue.apply(this,arguments)}function tn(s){return Le.apply(this,arguments)}function Le(){return Le=(0,j.Z)((0,u.Z)().mark(function s(r){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:$.requireAuth,method:"DELETE",requestUrl:$.serviceUrl+"/".concat(r,"/error_log")},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},s)})),Le.apply(this,arguments)}function an(s){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,j.Z)((0,u.Z)().mark(function s(r){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:$.requireAuth,method:"PUT",requestUrl:$.serviceUrl+"/".concat(r,"/reset_transaction_limiter")},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},s)})),Fe.apply(this,arguments)}function sn(s){return _e.apply(this,arguments)}function _e(){return _e=(0,j.Z)((0,u.Z)().mark(function s(r){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:$.requireAuth,method:"GET",requestUrl:$.serviceUrl+"/".concat(r,"/news")},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},s)})),_e.apply(this,arguments)}var na=i(58024),xe=i(91894),ta=i(54029),ln=i(79166),on="/user/automate_order/v1",we={requireAuth:!0,serviceUrl:on},cn=function(r,n,a){var t={authenticated:we.requireAuth,method:"GET",params:r,requestUrl:we.serviceUrl+"/get_by_invest_id"};return(0,K.Iw)(t)},un="/user/manual_order/v1",he={requireAuth:!0,serviceUrl:un},dn=function(r,n){var a={authenticated:he.requireAuth,body:n,method:"POST",requestUrl:he.serviceUrl+"/".concat(r,"/open")};return(0,K.yc)(a)},vn=function(r,n){var a={authenticated:he.requireAuth,body:n,method:"POST",requestUrl:he.serviceUrl+"/".concat(r,"/close")};return(0,K.yc)(a)},hn=function(r,n){var a={authenticated:he.requireAuth,method:"PUT",requestUrl:he.serviceUrl+"/".concat(r,"/ignore?executeMethod=").concat(n)};return(0,K.yc)(a)},mn={key:"SOLD",label:"Sold",percentComplete:100},pn={key:"FILLED",label:"Filled",percentComplete:50},fn={key:"IGNORE",label:"Ignore",percentComplete:100},ir={key:"SELLING",label:"Selling",percentComplete:75},sr={key:"SUBMITTED",label:"Submitted",percentComplete:25},xn=[pn,fn,ir,mn,sr],gn=i(25592),En=i(59004),Tn=i(66034),lr=i(731),Sn=i(55774),or=i(62876),cr=i(52409),Zn={key:"AUTOMATE_ORDER",label:"Auto",description:"Trade was execute automatically by system",color:"success",icon:(0,e.jsx)(En.Z,{})},Cn={key:"MANUAL_ORDER",label:"Manual",description:"Trade was execute manually by user",color:"error",icon:(0,e.jsx)(Tn.Z,{twoToneColor:"#9fa2a6"})},Rn={key:"RISK_MANAGEMENT",label:"Risk",description:"Invest Config contains Risk Manage - Application will attempt to force close the order if lost >= 30%.",color:"error",icon:(0,e.jsx)(lr.Z,{twoToneColor:"#f5210a"})},yn={key:"EXTERNAL_ORDER_SYNC",label:"Sync",color:"warn",icon:(0,e.jsx)(Sn.Z,{color:"#1b44fa"})},An={key:"AUTO_EXPAND",label:"Expand",description:"Invest Config contains Auto Expand - Application will expand the invest size by confidence rate.",color:"success",icon:(0,e.jsx)(or.Z,{color:"#1b44fa"})},On={key:"RAPID_CLOSE",label:"RC",description:"Invest Config contains Rapid Close - Application will attempt to close the order if SELECTED Algoirthm supports it.",color:"error",icon:(0,e.jsx)(cr.Z,{twoToneColor:"#f0de3c"})},ur=[Zn,Cn,Rn,yn,An,On],z=i(72410),dr={key:"AUTO",info:"Auto mode - System will take care of closing the consider this order in concurrent when opening new order",label:"Auto",color:"success"},In={key:"IGNORE_CONCURRENT",info:"Ignore Concurrent mode - System will not count this order in concurrent but will still try to close if profitable",label:"IC",color:"warning"},jn={key:"TOTAL_IGNORE",info:"Ignore mode - System will ignore this order totally even profitable",label:"Ignore",color:"error"},Pn={key:"IGNORE_RISK",info:"Ignore risk mode - System will not  manage the risk of this order",label:"Ignore Risk",color:"warning"},Ge=[dr,In,Pn,jn],Mn=i(30381),Nn=i.n(Mn),vr="DD/hh:mm",bn=function(r){var n=r.item;return(0,e.jsx)(w.Z,{content:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:"Open Time: ".concat((0,z.Of)(n.openTime))}),(0,e.jsx)("p",{children:"Open Order ID: ".concat(n.openOrderId)}),(0,e.jsx)("p",{children:"Open Commission: ".concat(n.openCommission)}),(0,e.jsx)("p",{children:"Open Price (Expected): ".concat(n.expectedOpenPrice)}),(0,e.jsx)("p",{children:"Open Price (Actual): ".concat(n.actualOpenPrice)}),(0,e.jsx)("p",{children:"Open Size (Expected): ".concat(n.expectedOpenSize)}),(0,e.jsx)("p",{children:"Open Size (Actual): ".concat(n.actualOpenSize)}),(0,e.jsx)("p",{children:"Close Time: ".concat((0,z.Of)(n.closeTime))}),(0,e.jsx)("p",{children:"Close Order ID: ".concat(n.closeOrderId)}),(0,e.jsx)("p",{children:"Close Commission: ".concat(n.closeCommission)}),(0,e.jsx)("p",{children:"Close Price (Expected): ".concat(n.expectedClosePrice)}),(0,e.jsx)("p",{children:"Close Price (Actual): ".concat(n.actualClosePrice)}),(0,e.jsx)("p",{children:"Close Size (Expected): ".concat(n.expectedCloseSize)}),(0,e.jsx)("p",{children:"Close Size (Actual): ".concat(n.actualCloseSize)})]}),title:"ID: ".concat(n.id),children:(0,e.jsx)(ln.Z,{status:n.active?"processing":"default",text:(0,e.jsx)("a",{children:n.id})})})},Dn=function(r){var n=r.record,a=n.active,t=n.automateOrderExecuteMethod,v=n.invest,o=n.status,l=(0,V.NY)(xn,o),h=o===ir.key||o===sr.key,x;a?x="processing":x="default";var f=(0,V.NY)(Ge,t);return(0,e.jsxs)(c.Z,{direction:"vertical",children:[(0,e.jsx)(Ee.Z,{icon:h?(0,e.jsx)(gn.Z,{spin:!0}):null,color:x,children:l.label}),(0,e.jsx)(Ee.Z,{color:a?f.color:"default",children:f.label})]})},Un=5e3,Ln=function(r){var n=(0,D.useState)(void 0),a=(0,G.Z)(n,2),t=a[0],v=a[1],o=(0,D.useState)(new Date),l=(0,G.Z)(o,2),h=l[0],x=l[1],f=(0,D.useRef)(),Z=r.invest,y=[{title:"ID",dataIndex:["active"],render:function(P,d){return(0,e.jsx)(bn,{item:d})}},{title:"Status",dataIndex:["status"],render:function(P,d){return(0,e.jsx)(Dn,{record:d})}},{title:"Time",render:function(P,d){var A=d.closeTime,O=d.openTime,C;return A?C=(0,e.jsx)(p.Z,{type:"secondary",children:(0,z.c8)((0,z.Of)(O),(0,z.Of)(A))}):C=(0,e.jsx)(p.Z,{type:"processing",children:(0,z.c8)((0,z.Of)(O),Nn()())}),(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:(0,z.Of)(O,vr)}),(0,e.jsx)(p.Z,{children:A?(0,z.Of)(A,vr):"-"}),C]})}},{title:"Reason",render:function(P,d){var A=d.closeReason,O=d.openReason,C=(0,V.NY)(ur,O,"-"),F=(0,V.NY)(ur,A,"-");return(0,e.jsx)(c.Z,{children:(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(w.Z,{content:C.description,children:(0,e.jsx)(p.Z,{children:C.label})}),(0,e.jsx)(w.Z,{content:F.description?F.description:"N/A",children:(0,e.jsx)(p.Z,{children:F.label})})]})})}},{title:"Actual/Diff",render:function(P,d){var A=d.actualClosePrice,O=d.actualOpenPrice,C=d.expectedClosePrice,F=d.expectedOpenPrice,B=d.investType,te=C&&A!==C?Math.abs(A-C).toFixed(6):null,ae=F&&O!==F?Math.abs(O-F).toFixed(6):null,Ze=te||ae;return(0,e.jsxs)(c.Z,{children:[(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:"O:"}),(0,e.jsx)(p.Z,{children:"C:"})]}),(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsxs)(p.Z,{children:["$",O||"-"]}),(0,e.jsxs)(p.Z,{children:["$",A||"-"]})]}),(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:Ze?"$".concat(ae||"-"):""}),(0,e.jsx)(p.Z,{children:Ze?"$".concat(te||"-"):""})]})]})},tooltip:"Actual Price with Expected Price Difference"},{title:"Actual Size",dataIndex:["actualOpenSize"]},{title:"Target/Difference",render:function(P,d){var A=d.active,O=d.profit,C=d.targetCloseDifference,F=d.targetClosePrice,B=hr(A,O);return(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsxs)(p.Z,{type:A?"default":"secondary",children:["$",F||"-"]}),(0,e.jsxs)(p.Z,{type:B,children:["$",C||"-"]})]})},tooltip:"1. Target Close Price 2. Difference to Target Close Price"},{title:"Profit/Total",render:function(P,d){var A=d.active,O=d.actualOpenSize,C=d.profit,F=d.profitPercentage,B=C&&O?(C*O).toFixed(5):"-",te=hr(A,C);return(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsxs)(p.Z,{type:te,children:["$",C&&F?"".concat(C," (").concat(F,"%)"):"-"]}),(0,e.jsxs)(p.Z,{type:te,children:["$",B]})]})},tooltip:"1.Profit Per Share 2. Profit x Size"},{title:"Operation",valueType:"option",render:function(P,d){var A=d.active,O=d.automateOrderExecuteMethod,C=Ge.map(function(F){return(0,e.jsx)(ce,{disabled:!A||O===F.key,info:F.info,label:"Execute Method - ".concat(F.label),onClick:function(){return S(d,F.key)},popConfirm:!0,popConfirmMessage:"Update Execute Method ".concat(F.label,"?")},F.key)});return[(0,e.jsx)(ce,{disabled:!A,label:"Close",onClick:function(){return U(d)},popConfirm:!0,popConfirmMessage:"Close this order?"},"close"),(0,e.jsx)(w.Z,{content:function(){return(0,e.jsxs)(c.Z,{direction:"vertical",children:[C,(0,e.jsx)(ce,{disabled:!A,label:"Deactivate",onClick:(0,j.Z)((0,u.Z)().mark(function B(){return(0,u.Z)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(0,ve.rw)(we,d.id);case 2:f.current.reload();case 3:case"end":return ae.stop()}},B)})),popConfirm:!0,popConfirmMessage:"Deactivate this order?",textType:"danger"},"deactivate")]})},placement:"bottom",children:(0,e.jsx)("a",{children:"Options"})},"optionList")]}}],g=function(){var T=(0,j.Z)((0,u.Z)().mark(function P(d){return(0,u.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,dn(d.id,{actualOpenSize:d.size});case 2:return f.current.reload(),O.abrupt("return",!0);case 4:case"end":return O.stop()}},P)}));return function(d){return T.apply(this,arguments)}}(),U=function(){var T=(0,j.Z)((0,u.Z)().mark(function P(d){return(0,u.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,vn(d.id,{actualCloseSize:d.invest.size});case 2:return f.current.reload(),O.abrupt("return",!0);case 4:case"end":return O.stop()}},P)}));return function(d){return T.apply(this,arguments)}}(),S=function(){var T=(0,j.Z)((0,u.Z)().mark(function P(d,A){return(0,u.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,hn(d.id,A);case 2:return f.current.reload(),C.abrupt("return",!0);case 4:case"end":return C.stop()}},P)}));return function(d,A){return T.apply(this,arguments)}}(),b=function(){var T=(0,j.Z)((0,u.Z)().mark(function P(d,A,O){var C;return(0,u.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,cn((0,k.Z)((0,k.Z)({},d),{},{investId:Z.id}),A,O);case 2:return C=B.sent,x(new Date),B.abrupt("return",C);case 5:case"end":return B.stop()}},P)}));return function(d,A,O){return T.apply(this,arguments)}}();return(0,e.jsx)(xe.Z,{title:"Automate Orders",extra:"Last Updated: ".concat(h.toLocaleTimeString()),children:(0,e.jsx)(Me.ZP,{actionRef:f,columns:y,request:b,pagination:{pageSize:10,showSizeChanger:!0},polling:t||void 0,toolBarRender:function(){return[(0,e.jsxs)(N.Z,{onClick:function(){if(t){v(void 0);return}v(Un)},children:[t?(0,e.jsx)(ar.Z,{}):(0,e.jsx)(Pe.Z,{}),t?"Stop Polling":"Start Polling"]},"polling"),(0,e.jsx)(N.Z,{type:"primary",onClick:function(){return g(Z)},children:"Open: ".concat(Z.size)},"open")]},search:!1,size:"small"})})};function hr(s,r){return r<0?"danger":s?"success":"secondary"}var Fn=Ln,aa=i(7359),ke=i(27279),ia=i(9715),ge=i(55843),_n=i(37476),wn=i(52688),Ve=i(5966),se=i(31199),mr=i(97462),me=i(64317),Gn=function(r){return(0,e.jsx)(me.Z,(0,k.Z)({valueEnum:(0,V.bZ)(Oe)},r))},kn=Gn,Vn=function(r){return(0,e.jsx)(me.Z,(0,k.Z)({valueEnum:(0,V.bZ)(Ie.XH)},r))},pr=Vn,$n=i(94227),Hn=function(r){return(0,e.jsx)(me.Z,(0,k.Z)({valueEnum:(0,V.bZ)(rr)},r))},zn=Hn,Bn=function(r){return(0,e.jsx)(me.Z,(0,k.Z)({valueEnum:(0,V.bZ)(tr)},r))},Yn=Bn,Kn=i(88608),Wn=function(r){var n=function(){var a=(0,j.Z)((0,u.Z)().mark(function t(v){var o,l,h;return(0,u.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,Kn.B)(v);case 2:return o=f.sent,l=o.channelAccounts,h=l.map(function(Z){var y=Z.accountId,g=Z.channel;return{value:y,label:"".concat((0,V.LR)(Ie.XH,g,"shortLabel")," ").concat(y)}}),f.abrupt("return",h);case 6:case"end":return f.stop()}},t)}));return function(v){return a.apply(this,arguments)}}();return(0,e.jsx)(me.Z,(0,k.Z)({request:n},r))},Xn=Wn,qn=function(r){var n=r.gridInterval,a=n===void 0?1:n,t=r.maxPrice,v=t===void 0?0:t,o=r.minPrice,l=o===void 0?0:o,h=(v-l)/a;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(p.Z,{children:["Estimate number of order: ",h.toFixed(0)]})})},Jn=qn,sa=i(13062),ue=i(71230),la=i(89032),de=i(15746),Qn=i(2904),et=function(r){var n=(0,D.useState)(),a=(0,G.Z)(n,2),t=a[0],v=a[1],o=(0,D.useState)(),l=(0,G.Z)(o,2),h=l[0],x=l[1],f=(0,D.useState)([]),Z=(0,G.Z)(f,2),y=Z[0],g=Z[1],U=function(){var S=(0,j.Z)((0,u.Z)().mark(function b(){var T;return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,nn(t,h);case 2:T=d.sent,g(T);case 4:case"end":return d.stop()}},b)}));return function(){return S.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ue.Z,{align:"middle",gutter:24,children:[(0,e.jsx)(de.Z,{span:10,children:(0,e.jsx)(pr,{fieldProps:{onSelect:function(b){return v(b)}},label:"Channel"})}),(0,e.jsx)(de.Z,{span:10,children:(0,e.jsx)(Qn.Z,{disabled:!t,fieldProps:{onChange:function(b){return x(b.target.value)}},label:"Keyword"})}),(0,e.jsx)(de.Z,{span:4,children:(0,e.jsx)(N.Z,{disabled:!t||!h,onClick:U,type:"primary",children:"Search"})})]}),(0,e.jsx)(rt,{productIds:y})]})},rt=function(r){var n=r.productIds;return n.length<1?null:n.map(function(a,t){var v=a.channelProductId,o=a.message;return(0,e.jsx)(ue.Z,{children:(0,e.jsx)(p.Z,{children:"Channel Product ID: ".concat(v," - Message: ").concat(o)})},"ResponseList")})},nt=et,oa=i(43358),tt=i(34041),at=i(64987),it={key:"AUTO_EXPAND",label:"Auto Expand",description:"Invest Config contains Auto Expand - Application will expand the invest size by confidence rate.",icon:(0,e.jsx)(or.Z,{twoToneColor:"#1b44fa"})},st={key:"RAPID_CLOSE",label:"Rapid Close",description:"Invest Config contains Rapid Close - Application will attempt to close the order by Algoirthm supports it.",icon:(0,e.jsx)(cr.Z,{twoToneColor:"#f0de3c"})},lt={key:"RISK_MANAGE",label:"Risk Manage",description:"Invest Config contains Risk Manage - Application will attempt to force close the order if lost >= 30%.",icon:(0,e.jsx)(lr.Z,{twoToneColor:"#f5210a"})},ot={key:"CHAT_GPT_NEWS_ANALYSIS",label:"ChatGPT News Analysis",description:"Invest Config contains ChatGPT news analysis - Application will automatically analysis news.",icon:(0,e.jsx)(at.Z,{twoToneColor:"#74AA9C"})},$e=[it,st,lt,ot],ca=tt.Z.Option,ct=function(r){return(0,e.jsx)(me.Z,(0,k.Z)({mode:"multiple",valueEnum:(0,V.bZ)($e),fieldProps:{optionItemRender:function(a){var t=a.label,v=a.value,o=(0,V.NY)($e,v);return(0,e.jsx)(w.Z,{content:o.description,children:t})}}},r))},ut=ct,dt=function(r){var n=r.invest,a=r.onFinish,t=r.setVisible,v=r.visible,o=ge.Z.useForm(),l=(0,G.Z)(o,1),h=l[0];return h.setFieldsValue(n),(0,e.jsxs)(_n.Y,{destroyOnClose:!0,form:h,onFinish:a,onVisibleChange:function(f){return(0,$n.P)(t,h,f)},title:n?"ID: ".concat(n.id," Edit Invest"):"Add Invest",visible:v,width:1200,children:[(0,e.jsx)(vt,{}),(0,e.jsxs)(c.Z,{direction:"vertical",children:[(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(wn.Z,{label:"Active",name:["active"]}),(0,e.jsx)(Ve.Z,{hidden:!0,label:"ID",name:["id"]})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(pr,{label:"Channel",name:["channel"],rules:[{required:!0}]}),(0,e.jsx)(Xn,{label:"Channel Account",name:["tradeAccount"],rules:[{required:!0}]}),(0,e.jsx)(Ve.Z,{label:"Product Name",name:["productName"],placeholder:"Apple Stock",rules:[{required:!0,message:"Pelase enter product name"}]}),(0,e.jsx)(Ve.Z,{label:"Channel Product ID",name:["channelProductId"],placeholder:"USD-BIT",rules:[{required:!0,message:"Pelase enter channel product ID"}]})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(Yn,{label:"Invest Type",name:["investType"],rules:[[{required:!0}]]}),(0,e.jsx)(kn,{label:"Algorithm",name:["algorithmType"],rules:[{required:!0}]}),(0,e.jsx)(ut,{label:"Features",name:["investFeatures"]})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(se.Z,{label:"Max Concurrent",name:["maxConcurrent"],rules:[{required:!0}]}),(0,e.jsx)(se.Z,{label:"Size",name:["size"],rules:[{required:!0}]})]}),(0,e.jsx)(c.Z,{children:(0,e.jsx)(mr.Z,{name:["algorithmType"],children:function(f){var Z=f.algorithmType,y=(0,V.NY)(Oe,Z);return y.showGrid?(0,e.jsx)(ht,{}):null}})})]}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(zn,{label:"Gain Sell Calculate Method",name:["gainSellCalculateMethod"]}),(0,e.jsx)(se.Z,{label:"Gain Sell Rate",name:["gainSellRate"]}),(0,e.jsx)(se.Z,{label:"Loss Sell Rate",name:["lossSellRate"]}),(0,e.jsx)(se.Z,{label:"Max Price",name:["maxPrice"]}),(0,e.jsx)(se.Z,{label:"Min Price",name:["minPrice"]})]})]})},vt=function(r){return(0,e.jsxs)(ke.Z,{children:[(0,e.jsx)(ke.Z.Panel,{header:"Channel Product ID Lookup",children:(0,e.jsx)(nt,{})},"1"),(0,e.jsx)(ke.Z.Panel,{header:"Order Book",children:(0,e.jsx)(mr.Z,{name:["gridInterval","maxPrice","minPrice"],children:function(a){return(0,e.jsx)(Jn,(0,k.Z)({},a))}})},"2")]})},ht=function(r){return(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(se.Z,{label:"Grid Interval",name:["gridInterval"],rules:[{required:!0}]}),(0,e.jsx)(se.Z,{label:"Max Open Per Grid",name:["maxOpenPerGrid"],rules:[{required:!0}]})]})},mt=dt,ua=i(95300),fr=i(7277),da=i(18446),He=i(19586),va=i(48736),xr=i(27049),pt=i(28697),Se=50,ft=Se*1.2,gr=Se*1.6,Er=function(r){var n=r.color,a=r.height,t=r.left,v=r.showPrice,o=v===void 0?!1:v,l=r.text,h=o?(0,e.jsxs)(p.Z,{underline:!0,children:["$",l]}):(0,e.jsx)("div",{style:{backgroundColor:n,borderRadius:"100%",height:5,width:5}});return(0,e.jsx)("div",{style:{position:"absolute",left:t,bottom:0},children:(0,e.jsx)(Y.Z,{title:"$".concat(l),children:(0,e.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column"},children:[h,(0,e.jsx)("div",{style:{backgroundColor:"grey",height:a,width:1}})]})})})},xt=function(r){var n=r.barWidth,a=r.investSteps,t=r.rangeMax,v=r.rangeMin,o=a?a.map(function(l){var h=l.actualOpenPrice,x=l.from,f=l.profit,Z=l.to,y=Tr(n,t,v,h);return(0,e.jsx)(Er,{color:f?"green":"red",height:ft,left:y,text:h},"bar")}):[];return o},gt=function(r){var n=r.barWidth,a=r.currentTickingPrice,t=r.invest,v=r.rangeMax,o=r.rangeMin,l=t.investType,h=t.ticking;if(!h)return null;var x=Tr(n,v,o,a);return(0,e.jsx)(Er,{color:"purple",height:gr,left:x,text:a})},Et=function(r){var n,a=(0,pt.Z)(),t=(0,G.Z)(a,2),v=t[0],o=t[1];if(!r.invest||!r.invest.ticking)return(0,e.jsx)(He.Z,{active:!0});var l=r.invest,h=l.investSteps,x=l.investType,f=l.maxPrice,Z=l.minPrice,y=l.ticking,g=x===nr?y.bidPrice:y.offerPrice,U=Math.min(Z,g),S=Math.max(f,g),b=(n=o==null?void 0:o.width)!==null&&n!==void 0?n:0;return(0,e.jsx)("div",{style:{marginTop:gr-Se+20},children:(0,e.jsxs)(ue.Z,{align:"middle",justify:"middle",children:[(0,e.jsx)(de.Z,{flex:"none",style:{padding:5},children:(0,e.jsx)(p.Z,{children:U})}),(0,e.jsx)(de.Z,{flex:"auto",children:(0,e.jsxs)("div",{ref:v,style:{borderColor:"lightGrey",borderRadius:3,borderStyle:"solid",borderWidth:.5,position:"relative",height:Se},children:[(0,e.jsx)(gt,{barWidth:b,currentTickingPrice:g,invest:r.invest,rangeMax:S,rangeMin:U}),(0,e.jsx)(xt,{barWidth:b,investSteps:h,rangeMax:S,rangeMin:U})]})}),(0,e.jsx)(de.Z,{flex:"none",style:{padding:5},children:(0,e.jsx)(p.Z,{children:S})})]})})};function Tr(s,r,n,a){var t=r-n;return(a-n)/t*s}var Tt=Et,St=function(r){var n=(0,D.useState)({}),a=(0,G.Z)(n,2),t=a[0],v=a[1],o=(0,D.useState)({startDate:(0,z._3)(-1),endDate:(0,z._3)(0)}),l=(0,G.Z)(o,2),h=l[0],x=l[1];(0,D.useEffect)(function(){f(h.startDate,h.endDate)},[h]);var f=function(){var Z=(0,j.Z)((0,u.Z)().mark(function y(g,U){var S;return(0,u.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,rn(r.invest.id,(0,z.Gk)(g),(0,z.Gk)(U));case 2:S=T.sent,v(S);case 4:case"end":return T.stop()}},y)}));return function(g,U){return Z.apply(this,arguments)}}();return(0,e.jsxs)(xe.Z,{title:"Invest Summary",children:[(0,e.jsx)(ue.Z,{children:(0,e.jsx)(p.Z,{children:"Financial Report"})}),(0,e.jsx)(ue.Z,{children:(0,e.jsx)(Zt,{investSummary:t})}),(0,e.jsx)(xr.Z,{}),(0,e.jsx)(ue.Z,{children:(0,e.jsx)(p.Z,{children:"Automate Order Bar"})}),(0,e.jsx)(ue.Z,{children:(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(Tt,{invest:t})})})]})},Zt=function(r){if(!r.investSummary.executeMethodOrderCount)return(0,e.jsx)(He.Z,{});var n=r.investSummary,a=n.dateRangeOrderClosedCount,t=n.dateRangeOrderClosedProfit,v=n.executeMethodOrderCount,o=Ge.map(function(l){return(0,e.jsx)(Ee.Z,{color:l.color,children:"".concat(l.label," - ").concat(v[l.key])},l.key)});return(0,e.jsxs)(c.Z,{direction:"vertical",children:[(0,e.jsxs)(c.Z,{split:(0,e.jsx)(xr.Z,{type:"vertical"}),children:[(0,e.jsx)(fr.Z,{title:"-1 Day Order Count",value:a}),(0,e.jsx)(fr.Z,{title:"-1 Day Profit",value:t,prefix:"$"})]}),o]})},Ct=St,ha=i(71194),Sr=i(50146),ma=i(54421),ze=i(38272),pa=i(98858),Be=i(4914),Zr=i(61409),Rt=function(r){var n,a,t,v,o=r.invest,l=r.onFinish,h=r.setVisible,x=r.visible,f=function(){var y=(0,j.Z)((0,u.Z)().mark(function g(){return(0,u.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,tn(o.id);case 2:l(),h(!1);case 4:case"end":return S.stop()}},g)}));return function(){return y.apply(this,arguments)}}(),Z=function(){var y=(0,j.Z)((0,u.Z)().mark(function g(){return(0,u.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,an(o.id);case 2:l(),h(!1);case 4:case"end":return S.stop()}},g)}));return function(){return y.apply(this,arguments)}}();return(0,e.jsx)(Sr.Z,{destroyOnClose:!0,onOk:function(){l(),h(!1)},onCancel:function(){l(),h(!1)},title:"ID: ".concat(o==null?void 0:o.id," Warnings"),visible:x,children:(0,e.jsxs)(c.Z,{direction:"vertical",children:[(0,e.jsx)(xe.Z,{title:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(je.Z,{style:{fontSize:22,color:"#F9A603"}}),(0,e.jsx)(p.Z,{children:"Transaction Limiter"})]}),extra:(0,e.jsx)(ce,{label:"Reset",onClick:Z,popConfirm:!0,popConfirmMessage:"Rest transaction limiter?"}),children:(0,e.jsxs)(Be.Z,{children:[(0,e.jsx)(Zr.Z,{label:"Fail Count",span:3,children:(n=o==null||(a=o.transactionLimiter)===null||a===void 0?void 0:a.failCount)!==null&&n!==void 0?n:0}),(0,e.jsx)(Zr.Z,{label:"Next Attempt Time",span:3,children:(0,z.Of)((t=o==null||(v=o.transactionLimiter)===null||v===void 0?void 0:v.nextAllowAttemptTime)!==null&&t!==void 0?t:"-")})]})}),(0,e.jsx)(xe.Z,{title:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(je.Z,{style:{fontSize:22,color:"#FF5733"}}),(0,e.jsx)(p.Z,{children:"Error Logs"})]}),extra:(0,e.jsx)(ce,{label:"Clear",onClick:f,popConfirm:!0,popConfirmMessage:"Clear all errors?"}),bodyStyle:{paddingBottom:0,paddingTop:0},children:(0,e.jsx)(ze.ZP,{size:"small",dataSource:o==null?void 0:o.errorLogs,renderItem:function(g,U){return(0,e.jsx)(ze.ZP.Item,{style:{paddingLeft:0,paddingRight:0},children:(0,e.jsx)(ze.ZP.Item.Meta,{title:(0,z.Of)(g.createTime),description:g.message,style:{padding:0}})})}})})]})})},yt=Rt,At=function(r){var n=r.invest.nextEstimateOpenPrice;return(0,e.jsx)(xe.Z,{title:"Invest Strategy",children:(0,e.jsx)(Be.Z,{children:(0,e.jsx)(Be.Z.Item,{label:"Next Open Price",children:n?"$".concat(n):"-"})})})},Ot=At;function Ye(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"-",t;return!s||s===0?t=a:t=s.toFixed(r),n?"$".concat(t):t}function Cr(s){var r="0";Array.isArray(s)?r=s.map(function(a){return a.toString()}).sort(function(a,t){return a.length>t.length?-1:1})[0]:typeof s=="number"?r=s.toString():r=s;var n=r.split(".");return n.length>1?n[1].length:0}function le(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return s||r}var It=i(68367),jt=function(r){var n=r.invest,a=r.onFinish,t=r.setVisible,v=r.visible,o=(0,D.useState)([]),l=(0,G.Z)(o,2),h=l[0],x=l[1],f=(0,D.useState)([]),Z=(0,G.Z)(f,2),y=Z[0],g=Z[1];(0,D.useEffect)(function(){U()},[n]);var U=function(){var S=(0,j.Z)((0,u.Z)().mark(function b(){var T;return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!n||!n.id)){d.next=2;break}return d.abrupt("return");case 2:return d.next=4,sn(n.id);case 4:T=d.sent,x(T.news);case 6:case"end":return d.stop()}},b)}));return function(){return S.apply(this,arguments)}}();return(0,e.jsx)(Sr.Z,{destroyOnClose:!0,onOk:function(){a(),t(!1)},onCancel:function(){a(),t(!1)},title:"ID: ".concat(n==null?void 0:n.id," News"),visible:v,children:(0,e.jsx)(It.ZP,{rowKey:"id",dataSource:h,expandable:{expandedRowKeys:y,onExpandedRowsChange:function(b){var T=b[b.length-1];g([T])}},metas:{title:{render:function(b,T){var P=T.id,d=T.header;return"ID: ".concat(P," - ").concat(d)}},description:{render:function(b,T){return T.content}}},pagination:!1})})},Pt=jt,Rr={key:"APPLY",label:"Apply"},yr={key:"DISUSE",label:"Disuse"},Mt=[Rr,yr],Ar={key:"MANUAL",label:"Manual"},Nt={key:"AUTO_CHAT_GPT",label:"ChatGPT"},bt=[Ar,Nt],Dt="/admin/invest_forecast/v1",pe={requireAuth:!0,serviceUrl:Dt};function Ut(s){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,j.Z)((0,u.Z)().mark(function s(r){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:pe.requireAuth,method:"GET",requestUrl:pe.serviceUrl+"/".concat(r,"/generate_manual_ai_request_wording")},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},s)})),Ke.apply(this,arguments)}function Lt(s,r,n,a){return We.apply(this,arguments)}function We(){return We=(0,j.Z)((0,u.Z)().mark(function s(r,n,a,t){var v;return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return v={authenticated:pe.requireAuth,method:"GET",params:(0,k.Z)((0,k.Z)({},n),{},{pageRequest:n.current-1}),requestUrl:pe.serviceUrl+"/".concat(r,"/query_pagination")},l.abrupt("return",(0,K.Iw)(v));case 2:case"end":return l.stop()}},s)})),We.apply(this,arguments)}function Or(s){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,j.Z)((0,u.Z)().mark(function s(r){var n;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={authenticated:pe.requireAuth,body:r,method:"POST",requestUrl:pe.serviceUrl},t.abrupt("return",(0,K.yc)(n));case 2:case"end":return t.stop()}},s)})),Xe.apply(this,arguments)}var Ft=function(r){var n=r.invest,a=(0,D.useRef)();(0,D.useEffect)(function(){});var t=function(){var o=(0,j.Z)((0,u.Z)().mark(function l(h,x,f){var Z;return(0,u.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(!n||!n.id)){g.next=2;break}return g.abrupt("return");case 2:return g.next=4,Lt(n.id,h,x,f);case 4:return Z=g.sent,g.abrupt("return",Z);case 6:case"end":return g.stop()}},l)}));return function(h,x,f){return o.apply(this,arguments)}}(),v=[{title:"ID",render:function(l,h){var x=h.createTime,f=h.id;return(0,e.jsxs)(c.Z,{direction:"vertical",children:[(0,e.jsx)(p.Z,{children:f}),(0,e.jsx)(p.Z,{children:(0,z.Of)(x)})]})}},{title:"News",dataIndex:["newsId"]},{title:"Channel",dataIndex:["analysisChannel"],renderText:function(l){return(0,V.LR)(bt,l)}},{title:"Confidence",dataIndex:["confidenceRate"],renderText:function(l){return(l*100).toFixed(2)+"%"}},{title:"Max/Min",render:function(l){var h=l.maxPrice,x=l.minPrice,f=h-x,Z=Cr([x,h]);return(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:Ye(h,Z)}),(0,e.jsx)(p.Z,{type:"secondary",children:Ye(f,Z)}),(0,e.jsx)(p.Z,{children:Ye(x,Z)})]})}},{title:"Usage",dataIndex:["usageType"],renderText:function(l){return(0,V.LR)(Mt,l)}}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Me.ZP,{actionRef:a,columns:v,request:t,pagination:{pageSize:10,showSizeChanger:!0},search:!1,size:"small"})})},_t=Ft,wt=i(91220),Gt=i(14104),kt=i(21987),Vt=function(r){var n=r.invest,a=(0,D.useState)(!0),t=(0,G.Z)(a,2),v=t[0],o=t[1],l=(0,D.useState)([]),h=(0,G.Z)(l,2),x=h[0],f=h[1],Z=(0,D.useState)(),y=(0,G.Z)(Z,2),g=y[0],U=y[1];(0,D.useEffect)(function(){S()},[]);var S=function(){var P=(0,j.Z)((0,u.Z)().mark(function d(){var A;return(0,u.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(!n||!n.id)){C.next=2;break}return C.abrupt("return");case 2:return o(!0),C.next=5,Ut(n.id);case 5:A=C.sent,f(A),o(!1);case 8:case"end":return C.stop()}},d)}));return function(){return P.apply(this,arguments)}}(),b=function(){f(x.slice(1))},T=x.map(function(P){return(0,e.jsx)($t,{invest:n,manaulForecastRequest:P,onCreateFinished:b,setUpdatedValue:U,updatedValue:g})});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{icon:(0,e.jsx)(Pe.Z,{}),onClick:S,children:"Refresh Manual Request"}),(0,e.jsx)(He.Z,{loading:v,children:T})]})},$t=function(r){var n=r.invest,a=r.manaulForecastRequest,t=r.onCreateFinished,v=r.setUpdatedValue,o=r.updatedValue,l=a.message,h=a.newsId,x=function(){var g=(0,j.Z)((0,u.Z)().mark(function U(S){var b,T,P;return(0,u.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return b=S.rawJsonResponse,T=JSON.parse(b),P=Ir(n,h,Rr,T),A.next=5,Or(P);case 5:v(P),t();case 7:case"end":return A.stop()}},U)}));return function(S){return g.apply(this,arguments)}}(),f=function(){var g=(0,j.Z)((0,u.Z)().mark(function U(){var S;return(0,u.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return S=Ir(n,h,yr),T.next=3,Or(S);case 3:t();case 4:case"end":return T.stop()}},U)}));return function(){return g.apply(this,arguments)}}(),Z=o?zt(l,o.maxPrice,o.minPrice):l,y=Ht(Z,["<"]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(kt.Z,{children:(0,e.jsx)("pre",{children:y})}),(0,e.jsxs)(ge.Z,{name:"wrap",labelAlign:"left",labelWrap:!0,wrapperCol:{flex:1},colon:!1,onFinish:x,children:[(0,e.jsx)(ge.Z.Item,{label:"JSON Response",name:"rawJsonResponse",rules:[{required:!0}],children:(0,e.jsx)(Gt.default,{rows:4})}),(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(ge.Z.Item,{label:" ",children:(0,e.jsx)(N.Z,{type:"primary",htmlType:"submit",children:"Submit"})}),(0,e.jsx)(ge.Z.Item,{label:" ",children:(0,e.jsx)(N.Z,{type:"ghost",onClick:f,children:"Disuse"})})]})]})]})};function Ht(s,r){var n=s,a=(0,wt.Z)(r),t;try{for(a.s();!(t=a.n()).done;){var v=t.value;n=n.substring(0,n.indexOf(v))}}catch(o){a.e(o)}finally{a.f()}return n}function zt(s,r,n){var a=jr(s,"minPrice=","minPrice="+n);return a=jr(a,"maxPrice=","maxPrice="+r),a}function Ir(s,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},t=s.algorithmType,v=s.gainSellRate,o=s.lossSellRate,l=s.size,h=s.gridInterval,x=s.maxPrice,f=s.minPrice,Z=(0,k.Z)({invest:{id:s.id},newsId:r,analysisChannel:Ar.key,algorithmType:t,gainSellRate:v,lossSellRate:o,maxPrice:x,minPrice:f,size:l,gridInterval:h,usageType:n.key},a);return Z}function jr(s,r,n){var a=s.indexOf(r),t=s.substring(a).indexOf(" "),v=s.substring(a,a+t),o=s.replace(v,n);return o}var Bt=Vt,Yt=5e3;function Kt(s,r){switch(s){case Qe.key:return"$"+r;case er.key:return r+"%";default:return r}}var Wt=function(){var r=(0,D.useState)(void 0),n=(0,G.Z)(r,2),a=n[0],t=n[1],v=(0,D.useState)(new Date),o=(0,G.Z)(v,2),l=o[0],h=o[1],x=(0,D.useRef)(),f=(0,D.useState)(),Z=(0,G.Z)(f,2),y=Z[0],g=Z[1],U=(0,D.useState)(!1),S=(0,G.Z)(U,2),b=S[0],T=S[1],P=(0,D.useState)(!1),d=(0,G.Z)(P,2),A=d[0],O=d[1],C=(0,D.useState)(!1),F=(0,G.Z)(C,2),B=F[0],te=F[1],ae=function(){var L=(0,j.Z)((0,u.Z)().mark(function R(m){return(0,u.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,ve.SC)($,m);case 2:return x.current.reload(),E.abrupt("return",!0);case 4:case"end":return E.stop()}},R)}));return function(m){return L.apply(this,arguments)}}(),Ze=function(){var L=(0,j.Z)((0,u.Z)().mark(function R(m){return(0,u.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!m.active){E.next=5;break}return E.next=3,(0,ve.rw)($,m.id);case 3:E.next=7;break;case 5:return E.next=7,(0,ve.gI)($,m.id);case 7:return x.current.reload(),E.abrupt("return",!0);case 9:case"end":return E.stop()}},R)}));return function(m){return L.apply(this,arguments)}}(),fa=function(){var L=(0,j.Z)((0,u.Z)().mark(function R(m){return(0,u.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,ve.rw)($,m.id);case 2:return x.current.reload(),E.abrupt("return",!0);case 4:case"end":return E.stop()}},R)}));return function(m){return L.apply(this,arguments)}}(),xa=function(){var L=(0,j.Z)((0,u.Z)().mark(function R(){return(0,u.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Xr();case 2:return x.current.reload(),I.abrupt("return",!0);case 4:case"end":return I.stop()}},R)}));return function(){return L.apply(this,arguments)}}(),qt=function(){var L=(0,j.Z)((0,u.Z)().mark(function R(m){var I;return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,ve.SV)($,(0,k.Z)({},m));case 2:return I=_.sent,x.current.reload(),_.abrupt("return",!0);case 5:case"end":return _.stop()}},R)}));return function(m){return L.apply(this,arguments)}}(),Jt=function(){var L=(0,j.Z)((0,u.Z)().mark(function R(m,I,E){var _;return(0,u.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,en($,(0,k.Z)((0,k.Z)({},m),{},{active:!1}),I,E);case 2:return _=W.sent,h(new Date),W.abrupt("return",_);case 5:case"end":return W.stop()}},R)}));return function(m,I,E){return L.apply(this,arguments)}}(),qe=function(R){T(R)},Qt=[{title:"Product",render:function(R,m){var I=m.active,E=m.channel,_=m.productName;return(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(ie.Z,{checked:I,onChange:function(){return Ze(m)},size:"small"},"switch"),(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:(0,V.LR)(Ie.XH,E,"shortLabel")}),(0,e.jsx)(p.Z,{children:_})]})]})}},{render:function(R,m){var I=m.errorLogs,E=m.transactionLimiter,_=I&&I.length>0,q=!E&&!_?null:(0,e.jsx)(je.Z,{onClick:function(){g(m),te(!0)},style:{fontSize:22,color:"#FF5733"}});return(0,e.jsx)(c.Z,{direction:"vertical",children:q})}},{title:"Type/Algo/Acc/Feature",render:function(R,m){var I=m.algorithmType,E=m.investFeatures,_=m.investType,q=m.tradeAccount,W=E.map(function(Ce){var Re=(0,V.NY)($e,Ce);return(0,e.jsx)(w.Z,{content:Re.description,children:Re.icon},Ce)});return(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:(0,V.LR)(tr,_)}),(0,e.jsx)(p.Z,{children:(0,V.LR)(Oe,I)}),(0,e.jsx)(p.Z,{children:q}),(0,e.jsx)(c.Z,{children:W})]})},tooltip:"1. Invest Type (Position Type) 2. Algoirthm Type"},{title:"Price",render:function(R,m){var I=m.ticking,E=I!=null?I:{bidPrice:0,offerPrice:0},_=E.bidPrice,q=E.offerPrice,W=(q-_).toFixed(5);return(0,e.jsxs)(c.Z,{children:[(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:"O:"}),(0,e.jsx)(p.Z,{children:"S:"}),(0,e.jsx)(p.Z,{children:"C:"})]}),(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{type:"success",children:q}),(0,e.jsx)(p.Z,{type:"secondary",children:W}),(0,e.jsx)(p.Z,{type:"danger",children:_})]})]})},tooltip:"1. Offer Price 2. Spread 3. Bid Price"},{title:"Con/Size",render:function(R,m){var I=m.executeMethodOrderCount,E=m.maxConcurrent,_=m.size,q=I[dr.key],W=q>=E;return(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsxs)(c.Z,{size:1,children:[(0,e.jsx)(p.Z,{type:W?"danger":"secondary",children:q}),"/",(0,e.jsx)(p.Z,{children:E})]}),(0,e.jsx)(p.Z,{children:_})]})},tooltip:"1. Maximum Concurrent 2. Size"},{title:"Gain/Loss",render:function(R,m){var I=m.gainSellCalculateMethod,E=m.gainSellRate,_=m.lossSellRate;return(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(p.Z,{children:" ".concat(Kt(I,E)," (").concat((0,V.LR)(rr,I),")")}),(0,e.jsx)(p.Z,{children:"".concat(_,"% (Percentage)")})]})},tooltip:"1. Gain Rate 2. Loss Rate"},{title:"Max/Min - 24H",render:function(R,m){var I=m.gridInterval,E=m.maxPrice,_=m.minPrice,q=m.maxPrice24Hour,W=m.minPrice24Hour,Ce=m.minMaxPriceDifference,Re=m.minMaxPrice24HourDifference,Pr=m.orderCountToCoverMinMaxRange,Mr=m.orderCountToCover24HourMinMaxRange,Nr=Cr([_,E]);return(0,e.jsxs)(c.Z,{children:[(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsxs)(p.Z,{children:["$",E.toFixed(Nr)]}),(0,e.jsxs)(c.Z,{size:0,children:[(0,e.jsx)(Y.Z,{title:"Min/Max Difference",children:(0,e.jsxs)(p.Z,{type:"secondary",children:["$",le(Ce)]})}),(0,e.jsx)(Y.Z,{title:"Order Count to Cover Min/Max Range - ".concat(le(Pr)," orders requires to cover the range for Grid Interval ").concat(I),children:(0,e.jsx)(p.Z,{type:"secondary",children:"(".concat(le(Pr),")")})})]}),(0,e.jsxs)(p.Z,{children:["$",_.toFixed(Nr)]})]}),(0,e.jsxs)(c.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(Y.Z,{title:"24 Hour Max",children:(0,e.jsxs)(p.Z,{type:"secondary",children:["$",le(q)]})}),(0,e.jsxs)(c.Z,{size:0,children:[(0,e.jsx)(Y.Z,{title:"24 Hour Min/Max Difference",children:(0,e.jsxs)(p.Z,{type:"secondary",children:["$",le(Re)]})}),(0,e.jsx)(Y.Z,{title:"Order Count to Cover 24 Hour Min/Max Range - ".concat(le(Mr)," orders requires to cover the range for Grid Interval ").concat(I),children:(0,e.jsx)(p.Z,{type:"secondary",children:"(".concat(le(Mr),")")})})]}),(0,e.jsx)(Y.Z,{title:"24 Hour Min",children:(0,e.jsxs)(p.Z,{type:"secondary",children:["$",le(W)]})})]})]})},tooltip:"1. Max Open Price 2. Min Open Price - 24 Hour Market Min/Max"},{title:"Operation",valueType:"option",render:function(R,m){return(0,e.jsxs)(c.Z,{direction:"vertical",children:[(0,e.jsx)(ce,{label:"News",onClick:function(){g(m),O(!0)}},"news"),(0,e.jsx)(ce,{label:"Edit",onClick:function(){g(m),t(!1),qe(!0)}},"edit")]})}}];return(0,e.jsxs)(Jr.ZP,{children:[(0,e.jsx)(Me.ZP,{actionRef:x,columns:Qt,columnEmptyText:"-",expandable:{expandedRowRender:function(R){var m=[{key:"investSumamry",label:"Summary",children:(0,e.jsx)(Ct,{invest:R})},{key:"investStrategy",label:"Strategy",children:(0,e.jsx)(Ot,{invest:R})},{key:"automateOrderTable",label:"Order",children:(0,e.jsx)(Fn,{invest:R})},{key:"forecast",label:"AI Forecast",children:(0,e.jsx)(_t,{invest:R})},{key:"manualForecast",label:"Manual Forecast",children:(0,e.jsx)(Bt,{invest:R})}];return(0,e.jsx)(ee.Z,{items:m})}},polling:a||void 0,request:function(R,m,I){return Jt(R,m,I)},rowKey:"id",search:!1,toolbar:{title:"Last Updated: ".concat(l.toLocaleTimeString()),subTitle:(0,e.jsx)(Gr,{})},toolBarRender:function(){return[(0,e.jsxs)(c.Z,{children:[(0,e.jsxs)(N.Z,{type:"secondary",onClick:function(){if(a){t(void 0);return}t(Yt)},children:[a?(0,e.jsx)(ar.Z,{}):(0,e.jsx)(Pe.Z,{}),a?"Stop Polling":"Start Polling"]},"polling"),(0,e.jsx)(N.Z,{icon:(0,e.jsx)(qr.Z,{}),type:"primary",onClick:function(){return qe(!0)},children:"Add"},"polling")]},"dateRange")]}}),(0,e.jsx)(mt,{invest:y,onFinish:function(){var L=(0,j.Z)((0,u.Z)().mark(function R(m){return(0,u.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!y){E.next=5;break}return E.next=3,qt(m);case 3:E.next=7;break;case 5:return E.next=7,ae(m);case 7:g(void 0),T(!1);case 9:case"end":return E.stop()}},R)}));return function(R){return L.apply(this,arguments)}}(),setVisible:qe,visible:b}),(0,e.jsx)(Pt,{invest:y,onFinish:function(){g(void 0),x.current.reload()},setVisible:O,visible:A}),(0,e.jsx)(yt,{invest:y,onFinish:function(){g(void 0),x.current.reload()},setVisible:te,visible:B})]})},Xt=Wt},88608:function(fe,J,i){"use strict";i.d(J,{B:function(){return Y}});var Q=i(39428),N=i(3182),ne=i(11614),ee="/user/channel_account/v1",H={requireAuth:!0,serviceUrl:ee};function Y(w){return re.apply(this,arguments)}function re(){return re=(0,N.Z)((0,Q.Z)().mark(function w(M){var c;return(0,Q.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return c={authenticated:H.requireAuth,method:"GET",requestUrl:H.serviceUrl},ie.abrupt("return",(0,ne.yc)(c));case 2:case"end":return ie.stop()}},w)})),re.apply(this,arguments)}},72410:function(fe,J,i){"use strict";i.d(J,{mJ:function(){return ne},Of:function(){return ee},Gk:function(){return H},_3:function(){return re},c8:function(){return w}});var Q=i(30381),N=i.n(Q);function ne(M){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"yy-MM-DD hh:mm";return M&&N()(M).format(c)}function ee(M,c){return M&&ne(M*1e3,c)}function H(M){return N()(M).format("YYYY-MM-DD")}function Y(M){if(!!M){var c=new Date(M);return c.setSeconds(0),c.toISOString()}}function re(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return M===0?N()():M>0?N()().add(M,"days"):N()().subtract(Math.abs(M),"days")}function w(M,c){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",ie=N()(M),k=N()(c),u=Math.abs(ie.diff(k)),j=N().duration(u).asSeconds(),G=N().duration(u).asMinutes(),ye=N().duration(u).asHours(),Ae=N().duration(u).asDays(),oe;return j<60?oe=Math.round(j)+" Second":G<60?oe=Math.round(G)+" Minute":ye<24?oe=Math.round(ye)+" Hour":oe=Math.round(Ae)+" Day",oe+" "+X}}}]);
